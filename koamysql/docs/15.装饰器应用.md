# 装饰器应用
- 定义
  + 通俗说：装饰器就是一个方法或者叫函数，可以注入[写到]类，方法，属性，参数，对象上，扩展其功能。
- 为什么要使用装饰器重构路由
  + 优势1 用类和装饰器管理路由，大幅提升路由代码可读性
  + 优势2 应对大中项目的路由管理，大幅提升代码的可维护性，充分享受ts类和装饰器带来的变成方便，万千摈弃了反复 router.get router.post 繁琐的代码编写，可以轻松折叠展开模块中所有路由请求。
  + 优势3 ts装饰器管理路由是一个高质量koa项目的重要标志之一

## ts类装饰器
1. 类装饰器两种写法
- 支持调用时不传参数的类装饰器
- 支持调用时可以传参数的类装饰器
2. 装饰器配置
- tsconfig.json 文件修改如下
```
-- 消除装饰器警告
  "experimentalDecorators": true,
  "emitDecoratorMetadata": true,
```
3. 类装饰器两种个实现[带参数和不带参数]
```
详情见 /src/decorstudy/classDecorator.ts
```
4. 工厂函数类型
- 代表任意一个类的构造函数[等价js的构造函数]的函数类型。
  + 可以获取原型上的方法targetClass.prototype
    - 完成日志信息的装饰器会用上
  + 详见 /src/decorstudy/classDecorator3.ts

5. 方法装饰器
- 带参数的
- 不带参数的

6. 多个装饰器修饰一个类时，这几个装饰器的执行顺序？写法顺序？
- 先执行方案装饰器，再执行类装饰器